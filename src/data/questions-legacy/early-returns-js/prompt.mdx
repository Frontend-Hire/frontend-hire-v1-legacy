export const meta = {
  title: 'Refactor: Early Returns',
  difficulty: 'medium',
  skills: ['js', 'jest'],
  description:
    "Refactor the code to use early returns instead of too many if-else statements.",
  template: 'test-ts',
  questionNumber: 7,
  recommendedLayout: 'col-2',
  files: {
    '/index.js': {
      code: `export function processOrder(order) {
  let result;
  if (order.isPaid) {
    if (order.isShipped) {
      result = 'Order is already shipped.';
    } else {
      if (order.isCancelled) {
        result = 'Order is cancelled.';
      } else {
        result = 'Order is paid but not shipped.';
      }
    }
  } else {
    result = 'Order is not paid.';
  }
  return result;
}
`,
      active: true
    },
    '/index.test.js': {
      code: `import { processOrder } from "./index";

// WRITE ALL TESTS BEFORE YOU START REFACTORING
describe("Process Order", () => {
  test("Order is paid but not shipped", () => {
    expect(processOrder({ isPaid: true, isShipped: false })).toBe(
      "Order is paid but not shipped.",
    );
  });
});
`},
    '/add.test.ts': {
      code: '',
      hidden: true,
    }
  },
  showTests: true,
  showConsole: true,
};

# Refactoring: Early Returns

> Why was the function always calm?
> Because it believed in early returns!

## Objectives

Your task is to refactor the `processOrder` function to use early returns, enhancing its readability and maintainability. Early returns involve exiting a function as soon as a certain condition is met, rather than nesting multiple if/else statements. This will involve:
- Identifying opportunities for early returns in the given code.
- Refactoring the code to implement early returns.
- Ensuring the refactored code maintains its original functionality through tests.

## Tests

Consider writing tests for the following scenarios:

- The order is not paid.
- The order is paid but not shipped.
- The order is shipped.
- The order is canceled.

#### Resources

- <a target="_blank" href="https://refactoring.guru/replace-nested-conditional-with-guard-clauses">Refactoring Guru: Replace Nested Conditional with Guard Clauses</a>
- <a target="_blank" href="https://gomakethings.com/the-early-return-pattern-in-javascript/">Go Make Things: The early return pattern in JavaScript by Chris Ferdinandi</a>